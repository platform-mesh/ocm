components:
  - name: github.com/kubernetes-sigs/gateway-api
    version: {{ .GATEWAY_API_VERSION }}
    provider:
      name: gateway-api
    resources:
      - name: crds
        type: gitOpsTemplate
        version: {{ .GATEWAY_API_VERSION }}
        access:
          type: github
          repoUrl: https://github.com/kubernetes-sigs/gateway-api
          ref: {{ .GATEWAY_API_VERSION }}
          commit: {{ .GATEWAY_API_COMMIT }}
  - name: github.com/traefik/traefik
    version: {{ .TRAEFIK_VERSION }}
    provider:
      name: traefik
    resources:
      - name: chart
        type: helmChart
        version: {{ .TRAEFIK_VERSION }}
        access:
          type: helm
          helmChart: traefik:{{ .TRAEFIK_VERSION }}
          helmRepository: https://traefik.github.io/charts
      - name: crds
        type: helmChart
        version: {{ .TRAEFIK_CRD_VERSION }}
        access:
          type: helm
          helmChart: traefik-crds:{{ .TRAEFIK_CRD_VERSION }}
          helmRepository: https://traefik.github.io/charts
      - name: image
        type: ociImage
        relation: external
        version: {{ .TRAEFIK_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "traefik:{{ .TRAEFIK_IMAGE_VERSION }}"
  - name: github.com/cert-manager/cert-manager
    version: {{ .CERT_MANAGER_VERSION }}
    provider:
      name: cert-manager
    resources:
      - name: chart
        type: helmChart
        version: {{ .CERT_MANAGER_VERSION }}
        access:
          type: ociArtifact
          imageReference: quay.io/jetstack/charts/cert-manager:{{ .CERT_MANAGER_VERSION }}
      - name: webhook-image
        type: ociImage
        relation: external
        version: {{ .CERT_MANAGER_VERSION }}
        access:
          type: ociArtifact
          imageReference: "quay.io/jetstack/cert-manager-webhook:{{ .CERT_MANAGER_VERSION }}"
      - name: controller-image
        type: ociImage
        relation: external
        version: {{ .CERT_MANAGER_VERSION }}
        access:
          type: ociArtifact
          imageReference: "quay.io/jetstack/cert-manager-controller:{{ .CERT_MANAGER_VERSION }}"
      - name: cainjector-image
        type: ociImage
        relation: external
        version: {{ .CERT_MANAGER_VERSION }}
        access:
          type: ociArtifact
          imageReference: "quay.io/jetstack/cert-manager-cainjector:{{ .CERT_MANAGER_VERSION }}"
  - name: github.com/crossplane/crossplane
    version: {{ .CROSSPLANE_VERSION }}
    provider:
      name: crossplane
    resources:
      - name: chart
        type: helmChart
        version: {{ .CROSSPLANE_VERSION }}
        access:
          type: helm
          helmChart: crossplane:{{ .CROSSPLANE_VERSION }}
          helmRepository: https://charts.crossplane.io/stable
      - name: image
        type: ociImage
        relation: external
        version: {{ .CROSSPLANE_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "xpkg.crossplane.io/crossplane/crossplane:{{ .CROSSPLANE_IMAGE_VERSION }}"
      - name: keycloak-provider
        type: ociImage
        relation: external
        version: {{ .CROSSPLANE_KEYCLOAK_PROVIDER_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "xpkg.upbound.io/crossplane-contrib/provider-keycloak:{{ .CROSSPLANE_KEYCLOAK_PROVIDER_IMAGE_VERSION }}"
  - name: github.com/openfga/openfga
    version: {{ .OPENFGA_VERSION }}
    provider:
      name: openfga
    resources:
      - name: chart
        type: helmChart
        version: {{ .OPENFGA_VERSION }}
        access:
          type: helm
          helmChart: openfga:{{ .OPENFGA_VERSION }}
          helmRepository: https://openfga.github.io/helm-charts
      - name: image
        type: ociImage
        relation: external
        version: {{ .OPENFGA_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "openfga/openfga:{{ .OPENFGA_IMAGE_VERSION }}"
      - name: postgresql-image
        type: ociImage
        relation: external
        version: {{ .OPENFGA_POSTGRESQL_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "ghcr.io/platform-mesh/images/postgresql:{{ .OPENFGA_POSTGRESQL_IMAGE_VERSION }}"
  - name: github.com/kcp-dev/kcp-operator
    version: {{ .KCP_OPERATOR_CHART_VERSION }}
    provider:
      name: kcp
    resources:
      - name: chart
        type: helmChart
        version: {{ .KCP_OPERATOR_CHART_VERSION }}
        access:
          type: helm
          helmChart: kcp-operator:{{ .KCP_OPERATOR_CHART_VERSION }}
          helmRepository: https://kcp-dev.github.io/helm-charts
      - name: image
        type: ociImage
        relation: external
        version: {{ .KCP_OPERATOR_IMAGE_VERSION }}
        access:
          type: ociArtifact
          imageReference: "ghcr.io/kcp-dev/kcp-operator:{{ .KCP_OPERATOR_IMAGE_VERSION }}"
  - name: github.com/kcp-dev/kcp
    version: {{ .KCP_VERSION }}
    provider:
      name: kcp
    resources:
      - name: image
        type: ociImage
        relation: external
        version: {{ .KCP_VERSION }}
        access:
          type: ociArtifact
          imageReference: "ghcr.io/kcp-dev/kcp:{{ .KCP_VERSION }}"
  - name: github.com/platform-mesh/platform-mesh
    version: {{ .VERSION }}
    provider:
      name: The Platform Mesh Team
    componentReferences:
      - name: account-operator
        componentName: github.com/platform-mesh/account-operator
        version: {{ .ACCOUNT_OPERATOR_VERSION }}
      - name: crossplane
        componentName: github.com/crossplane/crossplane
        version: {{ .CROSSPLANE_VERSION }}
      - name: etcd-druid
        componentName: github.com/gardener/etcd-druid
        version: {{ .GARDENER_ETCD_DRUID_SOURCE_REF }}
      - name: extension-manager-operator
        componentName: github.com/platform-mesh/extension-manager-operator
        version: {{ .EXTENSION_MANAGER_OPERATOR_VERSION }}
      - name: example-httpbin-operator
        componentName: github.com/platform-mesh/example-httpbin-operator
        version: {{ .EXAMPLE_HTTPBIN_OPERATOR_VERSION }}
      - name: infra
        componentName: github.com/platform-mesh/infra
        version: {{ .INFRA_VERSION }}
      - name: keycloak
        componentName: github.com/platform-mesh/keycloak
        version: {{ .KEYCLOAK_VERSION }}
      - name: kcp-operator
        componentName: github.com/kcp-dev/kcp-operator
        version: {{ .KCP_OPERATOR_CHART_VERSION }}
      - name: kcp
        componentName: github.com/kcp-dev/kcp
        version: {{ .KCP_VERSION }}
      - name: kubernetes-graphql-gateway
        componentName: github.com/platform-mesh/kubernetes-graphql-gateway
        version: {{ .KUBERNETES_GRAPHQL_GATEWAY_VERSION }}
      - name: rebac-authz-webhook
        componentName: github.com/platform-mesh/rebac-authz-webhook
        version: {{ .REBAC_AUTHZ_WEBHOOK_VERSION }}
      - name: security-operator
        componentName: github.com/platform-mesh/security-operator
        version: {{ .SECURITY_OPERATOR_VERSION }}
      - name: openfga
        componentName: github.com/openfga/openfga
        version: {{ .OPENFGA_VERSION }}
      - name: platform-mesh-operator
        componentName: github.com/platform-mesh/platform-mesh-operator
        version: {{ .PLATFORM_MESH_OPERATOR_VERSION }}
      - name: portal
        componentName: github.com/platform-mesh/portal
        version: {{ .PORTAL_VERSION }}
      - name: virtual-workspaces
        componentName: github.com/platform-mesh/virtual-workspaces
        version: {{ .VIRTUAL_WORKSPACES_VERSION }}
      - name: platform-mesh-operator-components
        componentName: github.com/platform-mesh/platform-mesh-operator-components
        version: {{ .PLATFORM_MESH_OPERATOR_COMPONENTS_VERSION }}
      - name: platform-mesh-operator-infra-components
        componentName: github.com/platform-mesh/platform-mesh-operator-infra-components
        version: {{ .PLATFORM_MESH_OPERATOR_INFRA_COMPONENTS_VERSION }}
      - name: iam-service
        componentName: github.com/platform-mesh/iam-service
        version: {{ .IAM_SERVICE_VERSION }}
      - name: iam-ui
        componentName: github.com/platform-mesh/iam-ui
        version: {{ .IAM_UI_VERSION }}
      - name: organization-idp
        componentName: github.com/platform-mesh/organization-idp
        version: {{ .ORGANIZATION_IDP_VERSION }}
      - name: marketplace-ui
        componentName: github.com/platform-mesh/marketplace-ui
        version: {{ .MARKETPLACE_UI_VERSION }}
      - name: gateway-api
        componentName: github.com/kubernetes-sigs/gateway-api
        version: {{ .GATEWAY_API_VERSION }}
      - name: traefik
        componentName: github.com/traefik/traefik
        version: {{ .TRAEFIK_VERSION }}
      - name: cert-manager
        componentName: github.com/cert-manager/cert-manager
        version: {{ .CERT_MANAGER_VERSION }}